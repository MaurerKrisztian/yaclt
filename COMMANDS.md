# `yaclt` Command Documentation

## `yaclt new`

Generate a new changelog entry

| Option              | Alias | Description                                                                                                                                                                                                                                                                                                                                                          | Type       | Required | Default Value                                                                   |
| ------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | -------- | ------------------------------------------------------------------------------- |
| `--issueId`         |       | The issue ID to be interpolated into the new changelog. Takes precedence over parsing from git branch based on --branchFormat                                                                                                                                                                                                                                        | `string`   | `false`  | `undefined`                                                                     |
| `--message`         | `-m`  | The change log message, defaults to a placeholder message                                                                                                                                                                                                                                                                                                            | `string`   | `false`  | `undefined`                                                                     |
| `--lastCommit`      |       | Use the first line of the most recent git commit message as the message for the new changelog entry                                                                                                                                                                                                                                                                  | `boolean`  | `false`  | `undefined`                                                                     |
| `--changeType`      |       | The change type tag to use, defaults to the first one defined in --changeTypes                                                                                                                                                                                                                                                                                       | `string`   | `false`  | `undefined`                                                                     |
| `--edit`            |       | After generating the changelog file, open it in `$EDITOR`, if `$EDITOR` is defined                                                                                                                                                                                                                                                                                   | `boolean`  | `false`  | `false`                                                                         |
| `--logsDir`         |       | The directory to find and place individual changelog entries                                                                                                                                                                                                                                                                                                         | `string`   | `false`  | `changelogs/`                                                                   |
| `--branchFormat`    |       | Regular expression with a capturing group to parse the issue ID out of your git branch. Implies --requireIssueIds and assumes that --format includes %issueid%                                                                                                                                                                                                       | `string`   | `false`  | `undefined`                                                                     |
| `--changelogFile`   |       | The name of the global changelog file to collect entries into                                                                                                                                                                                                                                                                                                        | `string`   | `false`  | `CHANGELOG.md`                                                                  |
| `--changeTypes`     |       | The allowed change type tags                                                                                                                                                                                                                                                                                                                                         | `array`    | `false`  | `NEW,IMPROVED,FIXED`                                                            |
| `--requireIssueIds` |       | Require issue IDs in changelog entries                                                                                                                                                                                                                                                                                                                               | `boolean`  | `false`  | `true`                                                                          |
| `--format`          |       | Changelog entry format, as a Handlebars template                                                                                                                                                                                                                                                                                                                     | `string`   | `false`  | `[{{changeType}}] {{message}} {{append "" "{"}}#{{issueId}}{{append "" "}"}}\n` |
| `--plumbing`        |       | Reduce output to just the relevant data, e.g. filepaths for `new` and `prepare-release`, `true/false` for `validate`, for scripting purposes. Also disables opening `$EDITOR`.                                                                                                                                                                                       | `boolean`  | `false`  | `false`                                                                         |
| `--preHook`         |       | A hook to allow arbitrary validation code to be executed pre-command execution. If a falsy value is returned, command is aborted. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function.                                             | `function` | `false`  | `undefined`                                                                     |
| `--postHook`        |       | A hook to allow arbitrary post-command code to be executed. In the case where one command runs another (e.g. prepare-release implies validate), hooks for both are respected. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function. | `function` | `false`  | `undefined`                                                                     |

## `yaclt validate`

Validate existing changelogs against the specified format

| Option                | Alias | Description                                                                                                                                                                                                                                                                                                                                                          | Type       | Required | Default Value                                                                   |
| --------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | -------- | ------------------------------------------------------------------------------- |
| `--validationPattern` |       | A regular expression used to validate each individual changelog entry                                                                                                                                                                                                                                                                                                | `string`   | `true`   | `undefined`                                                                     |
| `--logsDir`           |       | The directory to find and place individual changelog entries                                                                                                                                                                                                                                                                                                         | `string`   | `false`  | `changelogs/`                                                                   |
| `--branchFormat`      |       | Regular expression with a capturing group to parse the issue ID out of your git branch. Implies --requireIssueIds and assumes that --format includes %issueid%                                                                                                                                                                                                       | `string`   | `false`  | `undefined`                                                                     |
| `--changelogFile`     |       | The name of the global changelog file to collect entries into                                                                                                                                                                                                                                                                                                        | `string`   | `false`  | `CHANGELOG.md`                                                                  |
| `--changeTypes`       |       | The allowed change type tags                                                                                                                                                                                                                                                                                                                                         | `array`    | `false`  | `NEW,IMPROVED,FIXED`                                                            |
| `--requireIssueIds`   |       | Require issue IDs in changelog entries                                                                                                                                                                                                                                                                                                                               | `boolean`  | `false`  | `true`                                                                          |
| `--format`            |       | Changelog entry format, as a Handlebars template                                                                                                                                                                                                                                                                                                                     | `string`   | `false`  | `[{{changeType}}] {{message}} {{append "" "{"}}#{{issueId}}{{append "" "}"}}\n` |
| `--plumbing`          |       | Reduce output to just the relevant data, e.g. filepaths for `new` and `prepare-release`, `true/false` for `validate`, for scripting purposes. Also disables opening `$EDITOR`.                                                                                                                                                                                       | `boolean`  | `false`  | `false`                                                                         |
| `--preHook`           |       | A hook to allow arbitrary validation code to be executed pre-command execution. If a falsy value is returned, command is aborted. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function.                                             | `function` | `false`  | `undefined`                                                                     |
| `--postHook`          |       | A hook to allow arbitrary post-command code to be executed. In the case where one command runs another (e.g. prepare-release implies validate), hooks for both are respected. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function. | `function` | `false`  | `undefined`                                                                     |

## `yaclt prepare-release`

Gather the changelogs from --logsDir and compile them into --changelogFile using --changelogTemplate

| Option                   | Alias | Description                                                                                                                                                                                                                                                                                                                                                          | Type       | Required | Default Value                                                                                                                                                       |
| ------------------------ | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--validationPattern`    |       | A regular expression used to validate each individual changelog entry                                                                                                                                                                                                                                                                                                | `string`   | `true`   | `undefined`                                                                                                                                                         |
| `--changelogTemplate`    |       | The Handlebars template to use to generate the changelog additions. Can be a filepath to read the template from, or a template literal string.                                                                                                                                                                                                                       | `string`   | `false`  | `# Release {{releaseNumber}} - {{moment "YYYY-MM-DD"}}\n\n{{#each entryGroups}}## {{capitalize label}}\n\n{{#each items}}- {{this}}\n{{/each}}\n\n{{/each}}\n---\n` |
| `--releaseNumber`        |       | A label for the release                                                                                                                                                                                                                                                                                                                                              | `string`   | `true`   | `undefined`                                                                                                                                                         |
| `--releaseBranchPattern` |       | A pattern to generate a release branch name which will be automatically checked out before preparing the release.                                                                                                                                                                                                                                                    | `string`   | `false`  | `undefined`                                                                                                                                                         |
| `--logsDir`              |       | The directory to find and place individual changelog entries                                                                                                                                                                                                                                                                                                         | `string`   | `false`  | `changelogs/`                                                                                                                                                       |
| `--branchFormat`         |       | Regular expression with a capturing group to parse the issue ID out of your git branch. Implies --requireIssueIds and assumes that --format includes %issueid%                                                                                                                                                                                                       | `string`   | `false`  | `undefined`                                                                                                                                                         |
| `--changelogFile`        |       | The name of the global changelog file to collect entries into                                                                                                                                                                                                                                                                                                        | `string`   | `false`  | `CHANGELOG.md`                                                                                                                                                      |
| `--changeTypes`          |       | The allowed change type tags                                                                                                                                                                                                                                                                                                                                         | `array`    | `false`  | `NEW,IMPROVED,FIXED`                                                                                                                                                |
| `--requireIssueIds`      |       | Require issue IDs in changelog entries                                                                                                                                                                                                                                                                                                                               | `boolean`  | `false`  | `true`                                                                                                                                                              |
| `--format`               |       | Changelog entry format, as a Handlebars template                                                                                                                                                                                                                                                                                                                     | `string`   | `false`  | `[{{changeType}}] {{message}} {{append "" "{"}}#{{issueId}}{{append "" "}"}}\n`                                                                                     |
| `--plumbing`             |       | Reduce output to just the relevant data, e.g. filepaths for `new` and `prepare-release`, `true/false` for `validate`, for scripting purposes. Also disables opening `$EDITOR`.                                                                                                                                                                                       | `boolean`  | `false`  | `false`                                                                                                                                                             |
| `--preHook`              |       | A hook to allow arbitrary validation code to be executed pre-command execution. If a falsy value is returned, command is aborted. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function.                                             | `function` | `false`  | `undefined`                                                                                                                                                         |
| `--postHook`             |       | A hook to allow arbitrary post-command code to be executed. In the case where one command runs another (e.g. prepare-release implies validate), hooks for both are respected. Hook functions get the command name being executed as a parameter; you must guard against `undefined` because the config parser attempts to run them to ensure it is a valid function. | `function` | `false`  | `undefined`                                                                                                                                                         |
